s.fn.raty.defaults.path = "/assets"; 
s.fn.raty.defaults.half_show = true;  
 
s(function(){ 
	s(".star").raty({			       
		score: function(){
			return s(this).attr('data-rating')				
		}, 
		number: function() {
			return s(this).attr('data-star-count')
		},
		click: function(score, evt) {
			s.ajax({
				type: "POST",
	  			url: '<%= Rails.application.class.routes.url_helpers.rate_path %>',
	  			data: {
					score: score, 
					dimension: s(this).attr('data-dimension'),  
					id: s(this).attr('data-id'),
					klass: s(this).attr('data-classname')
				},
				global: false,
	  			success: function(data){
	  				if(data) {
						// success code goes here ... 
					}
	  			}
			});
		}                        
	});           
});