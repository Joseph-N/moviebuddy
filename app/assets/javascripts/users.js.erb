var s = jQuery;
s.noConflict();

s(document).ready(function(){
	//set tooltips for followers and following
	s('.user').tooltip();

	if(s('table.recent-activity').size() > 0){

		s('#more-activity').click(function(){
			var id = s('tr:last').attr('data-id');
			var link = s(this);
			s('div.more').html('<%= image_tag "ajax-loader-2.gif" %>').show();
			link.hide();

			s.ajax({
				type: "GET",
	  			url: window.location.href + '/activity',
	  			data: {"activity_id" : id },
	  			dataType: "script",
	  			success: function(){
	  				s('div.more').hide();
	  				link.show();
	  			}
			});
			return false;
		});
		
	}

	//when a user follows or unfollows another user
	s('.follow-unfollow').click(function(e){
		e.preventDefault();
		s.ajax({
		  type: "GET",
		    url: s(this).attr('href'),
		    dataType: "script"
		});    
	});

});